{% extends "template.html" %}
{% block script %}

    <script type="text/javascript"
            src="http://cdnjs.cloudflare.com/ajax/libs/socket.io/0.9.16/socket.io.min.js"></script>
    <script type="text/javascript" charset="utf-8">
        $(document).ready(function () {
            $('select').material_select();

            namespace = '/test'; // change to an empty string to use the global namespace

            // the socket.io documentation recommends sending an explicit package upon connection
            // this is specially important when using the global namespace
            var socket = io.connect('http://' + document.domain + ':' + location.port + namespace);
            socket.on('connect', function () {
                socket.emit('my event', {data: ' '});
            });

            // event handler for server sent data
            // the data is displayed in the "Received" section of the page
            socket.on('my response', function (msg) {
                var a = ''
                Materialize.toast(msg.count + ': ' + msg.data, 1000);
                $('#runs').find('tr').append('<td><h4>' + msg.data + '</h4></td>')

            });

            // handlers for the different forms in the page
            // these send data to the server in a variety of ways
            $('form#emit').submit(function (event) {
                socket.emit('my event', {data: $('#emit_data').val()});
                return false;
            });
            $('form#broadcast').submit(function (event) {
                socket.emit('my broadcast event', {data: $('#broadcast_data').val()});
                return false;
            });
            $('form#join').submit(function (event) {
                socket.emit('join', {room: $('#join_room').val()});
                return false;
            });
            $('form#leave').submit(function (event) {
                socket.emit('leave', {room: $('#leave_room').val()});
                return false;
            });
            $('form#send_room').submit(function (event) {
                socket.emit('my room event', {room: $('#room_name').val(), data: $('#room_data').val()});
                return false;
            });
            $('form#close').submit(function (event) {
                socket.emit('close room', {room: $('#close_room').val()});
                return false;
            });
            $('form#disconnect').submit(function (event) {
                socket.emit('disconnect request');
                return false;
            });
        });

        function submitFunc(i) {
            namespace = '/test'; // change to an empty string to use the global namespace

            // the socket.io documentation recommends sending an explicit package upon connection
            // this is specially important when using the global namespace
            var socket = io.connect('http://' + document.domain + ':' + location.port + namespace);

            socket.emit('my event', {data: i});
            return false;
        }

    function submitFuncSel(sel) {
            namespace = '/test'; // change to an empty string to use the global namespace

            // the socket.io documentation recommends sending an explicit package upon connection
            // this is specially important when using the global namespace
            var socket = io.connect('http://' + document.domain + ':' + location.port + namespace);

            socket.emit('my event', {data: sel.value});
           $('select').material_select();

            return false;
        }


    </script>

{% endblock %}

{% block content %}

    <div class="container">
        <div class="section">

            <!--   Icon Section   -->
            <div class="row">
                <div class="col s12 m1">
                    <div class="icon-block">
                        <br>
                    </div>
                </div>


                <div class="col s12 m10 z-depth-5" id="team1">
                    <div class="icon-block">
                        <div class="input-field">

                            <table id="runs">
                                <tbody>
                                <tr>

                                </tr>

                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="col s12 m1">
                    <div class="icon-block">
                    </div>
                </div>

            </div>
            <div class="row">
                <div class="col s12 m12">
                    <div class="icon-block center">
                        <button class="btn-floating btn-large waves-effect waves-light red"><i
                                class="mdi-content-add" onclick="submitFunc(0)">0</i></button>

                        <button class="btn-floating btn-large waves-effect waves-light red"><i
                                class="mdi-content-add" onclick="submitFunc(1)">1</i></button>

                        <button class="btn-floating btn-large waves-effect waves-light red"><i
                                class="mdi-content-add" onclick="submitFunc(2)">2</i></button>

                        <button class="btn-floating btn-large waves-effect waves-light red"><i
                                class="mdi-content-add" onclick="submitFunc(3)">3</i></button>

                        <button class="btn-floating btn-large waves-effect waves-light red"><i
                                class="mdi-content-add" onclick="submitFunc(4)">4</i></button>

                        <button class="btn-floating btn-large waves-effect waves-light red"><i
                                class="mdi-content-add" onclick="submitFunc(6)">6</i></button>

                        <button class="btn-floating btn-large waves-effect waves-light red "
                                onclick="submitFunc('Wide')">Wide
                        </button>

                        <button class="btn-floating btn-large waves-effect waves-light red " onclick="submitFunc('Nb')">
                            No Bl
                        </button>

                        <button class="btn-floating btn-large waves-effect waves-light red "
                                onclick="submitFunc('Bye')">Bye
                        </button>

                        <button class="btn-floating btn-large waves-effect waves-light red " onclick="submitFunc('Lb')">
                            L.Bye
                        </button>


                    </div>
                </div>

            </div>
            <div class="row">
                <div class="col s12 m1">
                    <div class="icon-block center">

                        <select>
                            <option value="" disabled selected>Wide</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>

                        </select>

                    </div>
                </div>

                <div class="col s12 m1">
                    <div class="icon-block center">

                        <select>
                            <option value="" disabled selected>No Ball</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>

                        </select>

                    </div>
                </div>

                <div class="col s12 m1">
                    <div class="icon-block center">

                        <select>
                            <option value="" disabled selected>Bye</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>

                        </select>

                    </div>
                </div>

                <div class="col s12 m1">
                    <div class="icon-block center">

                        <select onchange="submitFuncSel(this)">
                            <option value="" disabled selected>Leg Bye</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>

                        </select>

                    </div>
                </div>

            </div>
        </div>
    </div>

{% endblock %}






